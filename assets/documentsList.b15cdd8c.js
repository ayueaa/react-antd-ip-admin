import{r as a,A as k,_ as I,k as l,j as e,a2 as w,a8 as p,d as y}from"./index.db5181c7.js";import{a as z,b as A}from"./document.ab048d6f.js";import{u as O}from"./index.e6a82f9c.js";import{P as S}from"./index.45d3749b.js";import{L as s}from"./index.0510b494.js";import{E as _}from"./EditOutlined.18a84775.js";import{S as d}from"./index.939c5ec2.js";import{P as B}from"./PlusOutlined.86d39de7.js";import{F as $}from"./index.b3f44bab.js";import{M}from"./index.8b561d37.js";import"./pickAttrs.404b2d76.js";import"./useSize.70a35bba.js";import"./useBreakpoint.89bd27bc.js";import"./responsiveObserver.85af1e78.js";import"./index.c83deb50.js";import"./useMergedState.327c3824.js";import"./index.9c20e89e.js";import"./index.e721e410.js";import"./Overflow.0fc5040c.js";import"./List.2af81052.js";import"./index.98d1759f.js";import"./compact-item.10726c4a.js";import"./CheckOutlined.1e909287.js";import"./context.a2b898dd.js";import"./Compact.99095ef9.js";import"./SearchOutlined.5f8f5c65.js";import"./reactNode.265b0311.js";import"./row.f4791e76.js";import"./scrollTo.9e85775e.js";import"./index.bd6ceda3.js";import"./index.61db1a0a.js";import"./fade.524f7f9e.js";import"./button.16cfc251.js";import"./index.12a1b7f5.js";import"./useClosable.9da53335.js";var P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},T=P,H=function(n,i){return a.exports.createElement(k,I({},n,{ref:i,icon:T}))},L=a.exports.forwardRef(H);const Ct=()=>{const[c,n]=a.exports.useState([]),[i,h]=a.exports.useState({page:1,page_size:10}),[f,g]=a.exports.useState(0),r=O();a.exports.useEffect(()=>{u()},[i]);const u=async()=>{const{status:t,result:o}=await z(i);t&&(n(o.items),g(o.total))},x=()=>{r("/document/new")},D=t=>{r(`/document/edit/${t}`)},v=t=>{r(`/document/${t}`)},C=t=>{M.confirm({title:"\u786E\u8BA4\u5220\u9664\u8FD9\u7BC7\u6587\u7AE0\u5417\uFF1F",content:"\u4E00\u65E6\u5220\u9664\uFF0C\u5C06\u65E0\u6CD5\u6062\u590D\u3002",okText:"\u786E\u8BA4",okType:"danger",cancelText:"\u53D6\u6D88",onOk:async()=>{const{status:o}=await A(t);o?(p.success("\u5220\u9664\u6210\u529F"),await u()):p.error("\u5220\u9664\u5931\u8D25")},onCancel(){console.log("\u53D6\u6D88\u5220\u9664")}})},m=({icon:t,item:o,onClick:E,text:F})=>e(d,{children:l("a",{onClick:()=>E(o.doc_id),children:[y.createElement(t),F]})});return l(w,{children:[e(s,{itemLayout:"vertical",size:"large",dataSource:c,renderItem:t=>e(s.Item,{actions:[e(m,{icon:_,item:t,onClick:D,text:"\u7F16\u8F91"}),e(m,{icon:L,item:t,onClick:C,text:"\u5220\u9664"}),e(d,{children:`${t.updated_at}`})],children:e(s.Item.Meta,{title:e("a",{onClick:()=>v(t.doc_id),children:t.title}),description:`${t.content} ...`})},t.title)}),e(S,{current:i.page,pageSize:i.page_size,total:f,onChange:(t,o)=>h({page:t,page_size:o}),style:{textAlign:"center",marginTop:"20px"}}),e($,{icon:e(B,{}),type:"primary",shape:"circle",tooltip:"\u65B0\u5EFA\u6587\u6863",style:{position:"fixed",right:"24px",bottom:"24px",zIndex:1e3},onClick:x})]})};export{Ct as default};
