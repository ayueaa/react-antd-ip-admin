import{d as l}from"./index.3e659a0b.js";import{r as n,A as p,_ as v,k as f,j as c}from"./index.db5181c7.js";import{c as h,d as x,e as g}from"./document.ab048d6f.js";import{a as w,u as S}from"./index.e6a82f9c.js";import{I as D}from"./index.a3668735.js";import{B as y}from"./button.16cfc251.js";import"./context.a2b898dd.js";import"./useSize.70a35bba.js";import"./index.98d1759f.js";import"./compact-item.10726c4a.js";import"./TextArea.e1c4056d.js";import"./useMergedState.327c3824.js";import"./index.e721e410.js";import"./Compact.99095ef9.js";import"./SearchOutlined.5f8f5c65.js";import"./reactNode.265b0311.js";import"./index.12a1b7f5.js";var E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"},B=E,I=function(r,t){return n.exports.createElement(p,v({},r,{ref:t,icon:B}))},V=n.exports.forwardRef(I);const T=()=>{const[e,r]=n.exports.useState({title:"",content:""}),{docId:t}=w(),m=S(),s=n.exports.useRef(null);n.exports.useEffect(()=>{(async()=>{var a;if(t){const{status:i,result:u}=await h(t);i&&(r({title:u.title,content:u.content}),(a=s.current)==null||a.getInstance().setMarkdown(u.content))}})()},[t]);const d=async()=>{var i;const o=(i=s.current)==null?void 0:i.getInstance(),a=(o==null?void 0:o.getMarkdown())||"";t?(await x({...e,content:a,doc_id:t}),m(`/document/${t}`)):(await g({...e,content:a}),m("/documentation"))};return f("div",{children:[c(D,{placeholder:"\u8BF7\u8F93\u5165\u6587\u7AE0\u6807\u9898",value:e.title,onChange:o=>r({...e,title:o.target.value})}),c(l,{ref:s,initialValue:e.content,previewStyle:"vertical",height:"600px",initialEditType:"markdown",useCommandShortcut:!0}),c(y,{type:"primary",icon:c(V,{}),onClick:d,style:{position:"fixed",right:"24px",bottom:"24px",zIndex:1e3},children:t?"\u66F4\u65B0\u6587\u7AE0":"\u4FDD\u5B58\u6587\u7AE0"})]})};export{T as default};
